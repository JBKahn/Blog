<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>Ansible or: How I Learned to Stop Wasting Time Setting Up My Computer and Script It &#8211; A Byte Of The Apple</title>
<meta name="description" content="Introduction

">
<meta name="keywords" content="post">



<!-- Twitter Cards -->
<meta name="twitter:title" content="Ansible or: How I Learned to Stop Wasting Time Setting Up My Computer and Script It">
<meta name="twitter:description" content="Introduction

">
<meta name="twitter:site" content="@JosephBKahn">
<meta name="twitter:creator" content="@JosephBKahn">

<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://blog.josephkahn.io/images/">

<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="Ansible or: How I Learned to Stop Wasting Time Setting Up My Computer and Script It">
<meta property="og:description" content="Introduction

">
<meta property="og:url" content="http://blog.josephkahn.io/articles/ansible/">
<meta property="og:site_name" content="A Byte Of The Apple">





<link rel="canonical" href="http://blog.josephkahn.io/articles/ansible/">
<link href="http://blog.josephkahn.io/feed.xml" type="application/atom+xml" rel="alternate" title="A Byte Of The Apple Feed">


<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- For all browsers -->
<link rel="stylesheet" href="http://blog.josephkahn.io/assets/css/main.css">
<!-- Webfonts -->
<script src="//use.edgefonts.net/source-sans-pro:n2,i2,n3,i3,n4,i4,n6,i6,n7,i7,n9,i9;source-code-pro:n4,n7;volkhov.js"></script>

<meta http-equiv="cleartype" content="on">

<!-- HTML5 Shiv and Media Query Support -->
<!--[if lt IE 9]>
  <script src="http://blog.josephkahn.io/assets/js/vendor/html5shiv.min.js"></script>
  <script src="http://blog.josephkahn.io/assets/js/vendor/respond.min.js"></script>
<![endif]-->

<!-- Modernizr -->
<script src="http://blog.josephkahn.io/assets/js/vendor/modernizr-2.7.1.custom.min.js"></script>

<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="http://blog.josephkahn.io/favicon.ico">
<!-- 32x32 -->
<link rel="shortcut icon" href="http://blog.josephkahn.io/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="http://blog.josephkahn.io/images/apple-touch-icon-precomposed.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="http://blog.josephkahn.io/images/apple-touch-icon-72x72-precomposed.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="http://blog.josephkahn.io/images/apple-touch-icon-114x114-precomposed.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://blog.josephkahn.io/images/apple-touch-icon-144x144-precomposed.png">

</head>

<body id="post">

<div class="navigation-wrapper">
	<nav role="navigation" id="site-nav" class="animated drop">
	    <ul>
      
		    
		        
		    
		    <li><a href="http://blog.josephkahn.io/about/" >About</a></li>
		  
		    
		        
		    
		    <li><a href="http://blog.josephkahn.io/articles/" >Articles</a></li>
		  
		    
		        
		        
		    <li><a href="http://josephkahn.io" target="_blank">My Website</a></li>
		  
		    
		        
		    
		    <li><a href="http://blog.josephkahn.io/feed.xml" >Feed</a></li>
		  
        <li class="dosearch"><i class="fa fa-search"></i> Search</li>
	    </ul>
	</nav>
</div><!-- /.navigation-wrapper -->

<!--[if lt IE 9]><div class="upgrade"><strong><a href="http://whatbrowser.org/">Your browser is quite old!</strong> Why not upgrade to a different browser to better enjoy this site?</a></div><![endif]-->

<div class="search-wrapper">
  <div class="search-form">
    <input type="text" class="search-field" placeholder="Search...">
    <button class="close-btn"><i class="fa fa-times-circle fa-2x"></i></button>
    <ul class="search-results post-list"></ul><!-- /.search-results -->
  </div><!-- /.search-form -->
</div><!-- ./search-wrapper -->

<header class="masthead">
	<div class="wrap">
        
        <h1 class="site-title animated fadeIn"><a href="http://blog.josephkahn.io/">A Byte Of The Apple</a></h1>
		<h2 class="site-description animated fadeIn" itemprop="description">Becoming A Better Developer One Mistake At A Time</h2>
	</div>
</header><!-- /.masthead -->


<div id="main" role="main">
  <article class="hentry">
    
    <div class="entry-wrapper">
      <header class="entry-header">
        <span class="entry-tags"><a href="http://blog.josephkahn.io/tags/#post" title="Pages tagged post">post</a></span>
        
          <h1 class="entry-title">Ansible or: How I Learned to Stop Wasting Time Setting Up My Computer and Script It</h1>
        
      </header>
      <footer class="entry-meta">
        
        
        
          <img src="http://blog.josephkahn.io/images/bio-photo.jpg" class="bio-photo" alt="Joseph Kahn bio photo"></a>
        
        <span class="author vcard">By <span class="fn">Joseph Kahn</span></span>
        <span class="entry-date date published"><time datetime="2014-07-27T00:00:00-04:00"><i class="fa fa-calendar-o"></i> July 27, 2014</time></span>
        <span class="entry-date date modified"><time datetime="2014-07-27"><i class="fa fa-pencil"></i> July 27, 2014</time></span>
        <span class="entry-comments"><i class="fa fa-comment-o"></i> <a href="#disqus_thread">Comment</a></span>
        
        <span class="social-share-twitter">
          <a href="https://twitter.com/intent/tweet?hashtags=post&text=Ansible%20or:%20How%20I%20Learned%20to%20Stop%20Wasting%20Time%20Setting%20Up%20My%20Computer%20and%20Script%20It&url=http://blog.josephkahn.io/articles/ansible/&via=JosephBKahn" title="Share on Twitter" itemprop="Twitter"><i class="fa fa-twitter-square"></i> Tweet</a>
        </span>
        <span class="social-share-facebook">
          <a href="https://www.facebook.com/sharer/sharer.php?u=http://blog.josephkahn.io/articles/ansible/" title="Share on Facebook" itemprop="Facebook"><i class="fa fa-facebook-square"></i> Like</a>
        </span>
        <span class="social-share-googleplus">
          <a href="https://plus.google.com/share?url=http://blog.josephkahn.io/articles/ansible/" title="Share on Google Plus" itemprop="GooglePlus"><i class="fa fa-google-plus-square"></i> +1</a>
        </span>
        <!-- /.social-share -->
        
        <div class="google-ads" style="margin-top:40px; text-align:center;">
  <script async src="http://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- 160x600 ad -->
  <ins class="adsbygoogle"
       style="display:inline-block;width:160px;height:600px"
       data-ad-client=""
       data-ad-slot=""></ins>
  <script>
  (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div><!-- /.google-ads --><!-- /.google-ads -->
      </footer>
      <div class="entry-content">
        <h1 id="introduction">Introduction</h1>

<p>I know it has been a while since I put up my last post, but school was kept me busy. I wrote this one in a hurry and ask that you excuse any spelling and grammar mistakes. In particular, I’ve been taking <a href="http://www.cs.utoronto.ca/~lalla/csc373/index.html">CSC 373 - Algorithm Design, Analysis, and Complexity</a> and have had several assignments to work on. In my free time, I’ve been working on my own Ansible script. <a href="http://www.ansible.com/home">Ansible</a> is a tool used to deploy and update applications in an easy to use language, using SSH, with no agents to install on remote systems. The specifications for Ansible are all written in YAML, making them well structured and generally easy to follow. Back at Wave, Nathan wrote <a href="http://engineering.waveapps.io/post/80595462671/an-ansible-primer">An Ansible primer</a> blog post on the <a href="http://engineering.waveapps.io/">Wave Engineering blog</a>. Here, I’ll be taking you through my Ansible script as a practical example of what you could use Ansible for, outside of setting up remote servers.</p>

<p>Unfortunately, having recently had a hard drive failure on my laptop. I had to manually setup my machine just the way I like it. When setting up, I realized the colossal waste of time it was to lookup the ppa’s I needed, the Sager specific driver I’d installed for my keyboard backlight and trying to recall what I used most. This time I’d done the smart thing and simply documented all my steps. There were a few missing things there involving using dconf, gconftool-2 and gsettings and a couple of steps I’d not yet written down. We’d been using Ansible at Wave and my last attempt to learn it met with confusion, ten VMs running in the background and an episode of The Sopranos. I had tried to follow Nathan’s example (simplifying it along the way) as well as a bunch of other tutorials relating to Django. They all met with failure to get a successfully provisioned VM. I’d been making small contributions at work to our Ansible scripts in hopes to get the practice I needed for when I decided to try again. That’s when <a href="https://twitter.com/_AlexTucker">Alex Tucker</a> suggested I take my setup instructions and give it another go at Ansible. Now that you know how I got started, I’ll get into the project.</p>

<h1 id="the-file-structure--content">The File Structure &amp; Content</h1>

<p>This is mostly self explanatory, I’ll go into more detail about each section.</p>

<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><code class="language-text" data-lang="text"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</code></pre></div></td><td class="code"><div class="highlight"><pre>setup.yml                 # master playbook
HOSTS                     # HOSTS file which defines where the script will run. This points to localhost.
requirements.txt          # the requierments for running this playbook, including ansible
run.sh                    # one command script for install requirements, cloning the repo and provisioning.

roles/
    common/               # this hierarchy represents a &quot;role&quot;
        tasks/            #
            *.yml         #  &lt;-- tasks files i&#39;ll talk about later
        files/            #
            *.*           #  &lt;-- files for use with the copy resource
        vars/             #
            main.yml      #  &lt;-- variables associated with this role
</pre></div>
</td></tr></table>

<h1 id="the-hosts-file">The HOSTS file</h1>

<p>This file lets Ansible know where the machines are located, in this case all we’ll need is localhost.</p>

<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><code class="language-text" data-lang="text">1
2</code></pre></div></td><td class="code"><div class="highlight"><pre>[local]
127.0.0.1
</pre></div>
</td></tr></table>

<h1 id="the-requirements-file">The Requirements File</h1>

<p>Some on the Ansible modules have requirements, the Ansible docs provide them on each modules page.</p>

<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><code class="language-text" data-lang="text">1
2</code></pre></div></td><td class="code"><div class="highlight"><pre>python-apt==0.9.3.5
ansible==1.7.1
</pre></div>
</td></tr></table>

<h1 id="the-master-playbook">The Master Playbook</h1>

<p>This is also pretty simple. Here we can define what we run where, here I’m just telling it to run the scripts, in my common role, on the local machine.</p>

<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><code class="language-yaml" data-lang="yaml">1
2
3
4
5</code></pre></div></td><td class="code"><div class="highlight"><pre><span class="p-Indicator">-</span> <span class="l-Scalar-Plain">name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">a playbook to setup my local machine with my basic customizations</span>
  <span class="l-Scalar-Plain">hosts</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">local</span>
  <span class="l-Scalar-Plain">connection</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">local</span>
  <span class="l-Scalar-Plain">roles</span><span class="p-Indicator">:</span>
    <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">common</span>
</pre></div>
</td></tr></table>

<h1 id="common-roles-variables-mainyml">Common Roles: Variables main.yml</h1>

<p>Here we can define variables which we can use with {{ variable name ]} syntax. I use some of them to conditionally run tasks, to do them for a particular user and for downloading applications which are not available via ppa.</p>

<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><code class="language-yaml" data-lang="yaml">1
2
3
4
5
6
7
8</code></pre></div></td><td class="code"><div class="highlight"><pre><span class="nn">---</span>
<span class="l-Scalar-Plain">username</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">joseph</span>
<span class="l-Scalar-Plain">sager_laptop</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">false</span>
<span class="l-Scalar-Plain">vagrant_url</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">https://dl.bintray.com/mitchellh/vagrant/vagrant_1.6.3_x86_64.deb</span>
<span class="l-Scalar-Plain">virtualbox_url</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">http://download.virtualbox.org/virtualbox/4.3.14/virtualbox-4.3_4.3.14-95030~Ubuntu~raring_amd64.deb</span>
<span class="l-Scalar-Plain">github_username</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">JBKahn</span>
<span class="l-Scalar-Plain">bumblebee</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">false</span>
<span class="l-Scalar-Plain">uname_r</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">3.13.0-32-generic</span>
</pre></div>
</td></tr></table>

<h1 id="common-roles-files">Common Roles: Files</h1>

<p>For example, I place the autostart files in there so that I can copy them into the correct directory so applications will launch on boot. I also have configuration files for applications and my terminal.</p>

<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><code class="language-text" data-lang="text">1
2
3
4
5
6
7
8</code></pre></div></td><td class="code"><div class="highlight"><pre>[Desktop Entry]
Name=Variety
Comment=Variety Wallpaper Changer
Icon=/opt/extras.ubuntu.com/variety/share/variety/media/variety.svg
Exec=/opt/extras.ubuntu.com/variety/bin/variety
Terminal=false
Type=Application
X-GNOME-Autostart-Delay=20
</pre></div>
</td></tr></table>

<h1 id="common-tasks">Common Tasks</h1>

<p>Here’s where most of the coding is and I’ll provide five examples, the rest you can checkout in the repository.</p>

<p>1) main.yml</p>

<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><code class="language-yaml" data-lang="yaml"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20</code></pre></div></td><td class="code"><div class="highlight"><pre><span class="nn">---</span>
  <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">include</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">pre.yml</span>
  <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">include</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">sublime.yml</span>
  <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">include</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">chrome.yml</span>
  <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">include</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">numix.yml</span>
  <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">include</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">plank.yml</span>
  <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">include</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">keepass2.yml</span>
  <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">include</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">laptop.yml</span>
    <span class="l-Scalar-Plain">when</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">sager_laptop == true</span>
  <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">include</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">variety.yml</span>
  <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">include</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">font.yml</span>
  <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">include</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">base16.yml</span>
  <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">include</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">work.yml</span>
  <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">include</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">scm_breeze.yml</span>
  <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">include</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">vim.yml</span>
  <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">include</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">other_requirements.yml</span>
  <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">include</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">dropbox.yml</span>
  <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">include</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">bash_customizations.yml</span>
  <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">include</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">bumblebee.yml</span>
    <span class="l-Scalar-Plain">when</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">bumblebee == true</span>
</pre></div>
</td></tr></table>

<p>‘main.yml’ is the file that the setup.yml common role calls, I just use it to conditionally call the other task files I use.</p>

<p>2) base16.yml</p>

<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><code class="language-yaml" data-lang="yaml"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19</code></pre></div></td><td class="code"><div class="highlight"><pre><span class="nn">---</span>
<span class="p-Indicator">-</span> <span class="l-Scalar-Plain">name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">base16 - checkout repo</span>
  <span class="l-Scalar-Plain">git</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">repo=https://github.com/chriskempson/base16-gnome-terminal.git</span>
       <span class="l-Scalar-Plain">dest=/home//setup/base16-gnome</span>

<span class="p-Indicator">-</span> <span class="l-Scalar-Plain">name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">base16 - copy monokai-dark</span>
  <span class="l-Scalar-Plain">copy</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">src=/home//setup/base16-gnome/base16-monokai.dark.sh dest=/home//base16-monokai.dark.sh mode=0755</span>

<span class="p-Indicator">-</span> <span class="l-Scalar-Plain">name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">base16 - install monokai dark</span>
  <span class="l-Scalar-Plain">command</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">/home//base16-monokai.dark.sh</span>

<span class="p-Indicator">-</span> <span class="l-Scalar-Plain">name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">base16 - set system font to source code pro</span>
  <span class="l-Scalar-Plain">gconftool-2</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">key=/apps/gnome-terminal/profiles/base-16-monokai-dark/font string=&quot;Source Code Pro Semi-Bold 12&quot;</span>

<span class="p-Indicator">-</span> <span class="l-Scalar-Plain">name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">base16 - dont use default system font in terminal</span>
  <span class="l-Scalar-Plain">gconftool-2</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">key=/apps/gnome-terminal/profiles/base-16-monokai-dark/use_system_font bool=false</span>

<span class="p-Indicator">-</span> <span class="l-Scalar-Plain">name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">base16 - set default terminal profile</span>
  <span class="l-Scalar-Plain">gconftool-2</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">key=/apps/gnome-terminal/global/default_profile string=base-16-monokai-dark</span>
</pre></div>
</td></tr></table>

<p>Here I make use of the git, file and command modules to checkout the amazing <a href="https://github.com/chriskempson/base16">base-16</a> color scheme for my terminal, set it as the default and set the font (which I already setup in another task).</p>

<p>3) vim.yml</p>

<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><code class="language-yaml" data-lang="yaml"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46</code></pre></div></td><td class="code"><div class="highlight"><pre><span class="nn">---</span>
<span class="p-Indicator">-</span> <span class="l-Scalar-Plain">name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">horse vim - download vim</span>
  <span class="l-Scalar-Plain">apt</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">name=vim update_cache=yes</span>
  <span class="l-Scalar-Plain">sudo</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">yes</span>

<span class="p-Indicator">-</span> <span class="l-Scalar-Plain">name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">horse vim - make sure bundle directory exists</span>
  <span class="l-Scalar-Plain">file</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">path=/home//.vim/bundle state=directory mode=777</span>
  <span class="l-Scalar-Plain">sudo</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">yes</span>

<span class="p-Indicator">-</span> <span class="l-Scalar-Plain">name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">horse vim - checkout vundle repo</span>
  <span class="l-Scalar-Plain">git</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">repo=https://github.com/gmarik/vundle.vim.git</span>
       <span class="l-Scalar-Plain">dest=/home//.vim/bundle/vundle</span>

<span class="p-Indicator">-</span> <span class="l-Scalar-Plain">name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">horse vim - checkout repo</span>
  <span class="l-Scalar-Plain">git</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">repo=https://github.com/JBKahn/horse.vim.git</span>
       <span class="l-Scalar-Plain">dest=/home//horse.vim</span>

<span class="p-Indicator">-</span> <span class="l-Scalar-Plain">name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">horse vim - copy .vimrc file</span>
  <span class="l-Scalar-Plain">file</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">src=/home//horse.vim/.vimrc dest=/home//.vimrc mode=0755 state=link</span>

<span class="p-Indicator">-</span> <span class="l-Scalar-Plain">name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">horse vim - copy .vimrc.bundles file</span>
  <span class="l-Scalar-Plain">file</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">src=/home//horse.vim/.vimrc.bundles dest=/home//.vimrc.bundles mode=0755 state=link</span>

<span class="p-Indicator">-</span> <span class="l-Scalar-Plain">name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">horse vim - make sure vim colors directory exists</span>
  <span class="l-Scalar-Plain">file</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">path=/home//.vim/colors state=directory mode=777</span>
  <span class="l-Scalar-Plain">sudo</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">yes</span>

<span class="p-Indicator">-</span> <span class="l-Scalar-Plain">name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">horse vim - copy color to config to avoid error</span>
  <span class="l-Scalar-Plain">copy</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">src=base16-monokai.vim dest=/home//.vim/colors/base16-monokai.vim mode=0755</span>

<span class="p-Indicator">-</span> <span class="l-Scalar-Plain">name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">horse vim - run bundle install</span>
  <span class="l-Scalar-Plain">command</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">vim +BundleInstall +qall</span>

<span class="p-Indicator">-</span> <span class="l-Scalar-Plain">name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">horse vim - add NeoVim ppa</span>
  <span class="l-Scalar-Plain">apt_repository</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">repo=&#39;ppa:rudenko/neovim&#39; state=present update_cache=yes</span>
  <span class="l-Scalar-Plain">sudo</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">yes</span>

<span class="p-Indicator">-</span> <span class="l-Scalar-Plain">name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">horse vim - install neovim</span>
  <span class="l-Scalar-Plain">apt</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">name=neovim update_cache=yes</span>
  <span class="l-Scalar-Plain">sudo</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">yes</span>

<span class="p-Indicator">-</span> <span class="l-Scalar-Plain">name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">horse vim - symlink nvimrc</span>
  <span class="l-Scalar-Plain">file</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">src=/home//horse.vim/.vimrc dest=/home//.nvimrc mode=0755 state=link</span>

<span class="p-Indicator">-</span> <span class="l-Scalar-Plain">name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">horse vim - symlink nvim</span>
  <span class="l-Scalar-Plain">file</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">src=/home//.vim dest=/home//.nvim mode=0755 state=link</span>
</pre></div>
</td></tr></table>

<p>Another part of my setup is to put Vim and all of the important packages on my machine. Unfortunately, when I had tried to install the packages it seemed that missing my color scheme file prevented me from downloading it through Vundle. Using Ansible’s copy module I’m taking the current version (rather than doing a git pull for a more up to date one) to temporarily place the file there and have it replaced by running the setup.</p>

<p>4) work.yml</p>

<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><code class="language-yaml" data-lang="yaml"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48</code></pre></div></td><td class="code"><div class="highlight"><pre><span class="nn">---</span>
<span class="p-Indicator">-</span> <span class="l-Scalar-Plain">name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">download vagrant .deb package</span>
  <span class="l-Scalar-Plain">get_url</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">url= dest=/home//setup/vagrant.deb mode=0755</span>

<span class="p-Indicator">-</span> <span class="l-Scalar-Plain">name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">install vagrant</span>
  <span class="l-Scalar-Plain">apt</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">deb=/home//setup/vagrant.deb</span>
  <span class="l-Scalar-Plain">sudo</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">yes</span>

<span class="p-Indicator">-</span> <span class="l-Scalar-Plain">name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">download virtualbox .deb package</span>
  <span class="l-Scalar-Plain">get_url</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">url= dest=/home//setup/virtualbox.deb mode=0755</span>

<span class="p-Indicator">-</span> <span class="l-Scalar-Plain">name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">install virtualbox</span>
  <span class="l-Scalar-Plain">apt</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">deb=/home//setup/virtualbox.deb</span>
  <span class="l-Scalar-Plain">sudo</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">yes</span>

<span class="p-Indicator">-</span> <span class="l-Scalar-Plain">name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">install wave dependencies</span>
  <span class="l-Scalar-Plain">apt</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">name=&quot;&quot; state=installed update_cache=yes</span>
  <span class="l-Scalar-Plain">with_items</span><span class="p-Indicator">:</span>
    <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">python-pip</span>
    <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">curl</span>
    <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">nodejs</span>
    <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">nfs-kernel-server</span>
    <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">nfs-common</span>
    <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">rpcbind</span>
    <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">tmux</span>
    <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">npm</span>
  <span class="l-Scalar-Plain">sudo</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">yes</span>

<span class="p-Indicator">-</span> <span class="l-Scalar-Plain">name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">install global nodejs packages</span>
  <span class="l-Scalar-Plain">npm</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">name</span><span class="p-Indicator">:</span> <span class="s">&quot;&quot;</span>
    <span class="l-Scalar-Plain">state</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">present</span>
    <span class="l-Scalar-Plain">global</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">yes</span>
  <span class="l-Scalar-Plain">with_items</span><span class="p-Indicator">:</span>
    <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">bower</span>
    <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">coffee-script</span>
    <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">grunt-cli</span>
    <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">less</span>
    <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">jshint</span>
    <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">coffee-jshint</span>
  <span class="l-Scalar-Plain">sudo</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">yes</span>

<span class="p-Indicator">-</span> <span class="l-Scalar-Plain">name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">install tmuxp</span>
  <span class="l-Scalar-Plain">pip</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">name=tmuxp</span>
  <span class="l-Scalar-Plain">sudo</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">yes</span>

<span class="p-Indicator">-</span> <span class="l-Scalar-Plain">name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">copy tmuxp config</span>
  <span class="l-Scalar-Plain">copy</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">src=.tmux.conf dest=/home//.tmux.conf mode=0755</span>
</pre></div>
</td></tr></table>

<p>There’s a fair amount of overlap between things I use for my personal projects and those which I need for work. In here I’ve put the more development focused requirements making use of some of its wide variety of modules for installing packages through pip, .deb files and apt.</p>

<p>5) laptop.yml</p>

<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><code class="language-yaml" data-lang="yaml"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54</code></pre></div></td><td class="code"><div class="highlight"><pre><span class="nn">---</span>
<span class="p-Indicator">-</span> <span class="l-Scalar-Plain">name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">screen dimming - alter grub file</span>
  <span class="l-Scalar-Plain">lineinfile</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">dest=/etc/default/grub regexp=^GRUB_CMDLINE_LINUX_DEFAULT= line=&#39;GRUB_CMDLINE_LINUX_DEFAULT=&quot;quiet splash video.use_native_backlight=1&quot;&#39;</span>
  <span class="l-Scalar-Plain">sudo</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">yes</span>
  <span class="l-Scalar-Plain">register</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">grubfile</span>

<span class="p-Indicator">-</span> <span class="l-Scalar-Plain">name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">screen dimming - update grub</span>
  <span class="l-Scalar-Plain">command</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">sudo update-grub</span>
  <span class="l-Scalar-Plain">sudo</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">yes</span>
  <span class="l-Scalar-Plain">when</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">grubfile|changed</span>

<span class="p-Indicator">-</span> <span class="l-Scalar-Plain">name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">keyboard colors - requirements</span>
  <span class="l-Scalar-Plain">apt</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">pkg= state=installed</span>
  <span class="l-Scalar-Plain">with_items</span><span class="p-Indicator">:</span>
    <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">build-essential</span>
    <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">linux-source</span>
  <span class="l-Scalar-Plain">sudo</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">yes</span>

<span class="p-Indicator">-</span> <span class="l-Scalar-Plain">name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">keyboard colors - Make sure setup directory exists</span>
  <span class="l-Scalar-Plain">action</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">file path=/home//setup state=directory</span>

<span class="p-Indicator">-</span> <span class="l-Scalar-Plain">name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">keyboard colors - checkout clevo-wmi-code</span>
  <span class="l-Scalar-Plain">git</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">repo=git://git.code.sf.net/p/clevo-wmi/code</span>
       <span class="l-Scalar-Plain">dest=/home//setup/clevo-wmi-code</span>

<span class="p-Indicator">-</span> <span class="l-Scalar-Plain">name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">keyboard colors - build clevo-wmi</span>
  <span class="l-Scalar-Plain">command</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">make</span>
  <span class="l-Scalar-Plain">args</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">chdir</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">/home//setup/clevo-wmi-code</span>

<span class="p-Indicator">-</span> <span class="l-Scalar-Plain">name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">keyboard colors - link clevo-wmi to kernel check</span>
  <span class="l-Scalar-Plain">command</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">cat /etc/modules</span>
  <span class="l-Scalar-Plain">sudo</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">yes</span>
  <span class="l-Scalar-Plain">register</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">running_modules</span>

<span class="p-Indicator">-</span> <span class="l-Scalar-Plain">name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">keyboard colors - link clevo-wmi to kernel</span>
  <span class="l-Scalar-Plain">command</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">sudo insmod /home//setup/clevo-wmi-code/clevo_wmi.ko</span>
  <span class="l-Scalar-Plain">sudo</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">yes</span>
  <span class="l-Scalar-Plain">when</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">running_modules.stdout.find(&#39;clevo_wmi&#39;) == -1</span>

<span class="p-Indicator">-</span> <span class="l-Scalar-Plain">name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">keyboard colors - copy to kernel drivers</span>
  <span class="l-Scalar-Plain">copy</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">src=/home//setup/clevo-wmi-code/clevo_wmi.ko dest=/lib/modules//kernel/drivers/platform/x86/</span>
  <span class="l-Scalar-Plain">sudo</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">yes</span>

<span class="p-Indicator">-</span> <span class="l-Scalar-Plain">name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">keyboard colors - handle dependencies</span>
  <span class="l-Scalar-Plain">command</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">sudo depmod -a</span>
  <span class="l-Scalar-Plain">sudo</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">yes</span>

<span class="p-Indicator">-</span> <span class="l-Scalar-Plain">name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">keyboard colors- add to etc/modules</span>
  <span class="l-Scalar-Plain">lineinfile</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">dest=/etc/modules line=clevo_wmi</span>
  <span class="l-Scalar-Plain">sudo</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">yes</span>

<span class="p-Indicator">-</span> <span class="l-Scalar-Plain">name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">keyboard colors - copy kbbl script</span>
  <span class="l-Scalar-Plain">copy</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">src=keyboard-color.sh dest=/home//keyboard-color.sh mode=0755</span>
</pre></div>
</td></tr></table>

<p>One of the disadvantages of using linux can be that some things are hard to make work, although Ubuntu helps with a lot of it. For a long time I was unable to dim my backlight and my keyboard backlight was always on and always blue. Through the use of a small settings tweak, a custom driver and a custom script I wrote for changing the keyboard backlight, I’m not able to do all of these things. The task will only run contingent on the sager_laptop variable being true. One of the truly great modules in called ‘lineinfile’ and it does is ensure that a line exists in a file. That sounds pretty simple but it offers the ability to use a regular expression to identify the line (so that if it does not exist but it is meant to replace another line, it will) and the ability to create the file if it does not exist (configurable).</p>

<h1 id="the-script">The script</h1>

<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><code class="language-bash" data-lang="bash"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35</code></pre></div></td><td class="code"><div class="highlight"><pre>sudo apt-get install python-setuptools

sudo easy_install pip

sudo apt-get install aptitude
sudo apt-get install git
sudo apt-get install python-dev libxml2-dev libxslt-dev

<span class="nb">cd</span> ~
mkdir -p setup
<span class="nb">cd </span>setup
git clone https://github.com/JBKahn/provisioning-local.git
<span class="nb">cd </span>provisioning-local

sudo pip install -r requirements.txt

<span class="nb">echo</span> -e <span class="s2">&quot;please enter your username, followed by [ENTER]&quot;</span> <span class="o">&amp;&amp;</span> <span class="nb">read </span>PROVISIONING_USER
sudo sed -i <span class="s2">&quot;s/^username: .*/username: $PROVISIONING_USER/&quot;</span> roles/common/vars/main.yml

<span class="nb">echo</span> -e <span class="s2">&quot;please enter your github username, followed by [ENTER]&quot;</span> <span class="o">&amp;&amp;</span> <span class="nb">read </span>PROVISIONING_GITHUB_USERNAME
sudo sed -i <span class="s2">&quot;s/^github_username: .*/github_username: $PROVISIONING_GITHUB_USERNAME/&quot;</span> roles/common/vars/main.yml

sudo sed -i <span class="s2">&quot;s/^uname_r: .*/uname_r: `uname -r`/&quot;</span> roles/common/vars/main.yml

ansible-playbook setup.yml -i HOSTS --ask-sudo-pass  --module-path ./ansible_modules

<span class="c"># currently unable to use ansible due to EULA that I can&#39;t seem to stub using debconf</span>
sudo apt-get install steam

dropbox start -i <span class="p">&amp;</span>
/opt/extras.ubuntu.com/variety/bin/variety <span class="err">$</span>
plank <span class="p">&amp;</span>

<span class="nb">source</span> ~/.bashrc
<span class="nb">exit </span>0
</pre></div>
</td></tr></table>

<p>By using: <code>bash wget -qO- https://github.com/JBKahn/provisioning-local/raw/master/run.sh | sudo bash</code>
you can have this script download and run and have the machine setup in no time. It handles the requirements, and starts up three of the applications after the provisioning is completed.</p>

<h1 id="the-output">The Output</h1>

<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><code class="language-text" data-lang="text"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30</code></pre></div></td><td class="code"><div class="highlight"><pre>joseph@Batcave-Ubuntu:~/dev/provisioning-local$ sudo rm -fr ../../setup/base16-gnome/
[sudo] password for joseph:
joseph@Batcave-Ubuntu:~/dev/provisioning-local$ ansible-playbook setup.yml -i HOSTS --ask-sudo-pass
sudo password:

PLAY [a playbook to setup my local machine with my basic customizations] ******

GATHERING FACTS ***************************************************************
ok: [127.0.0.1]

TASK: [common | base16 - checkout repo] ***************************************
changed: [127.0.0.1]

TASK: [common | set file permissions] *****************************************
changed: [127.0.0.1]

TASK: [common | base16 - install monokai dark] ********************************
changed: [127.0.0.1]

TASK: [common | base16 - set system font to source code pro] ******************
changed: [127.0.0.1]

TASK: [common | base16 - dont use default system font in terminal] ************
changed: [127.0.0.1]

TASK: [common | base16 - set default terminal profile] ************************
changed: [127.0.0.1]

PLAY RECAP ********************************************************************
127.0.0.1                  : ok=7    changed=6    unreachable=0    failed=0
</pre></div>
</td></tr></table>

<p>Here after I run it, it will tell me how many of them at ran (changed) or did not require any more work (ok). There are some tasks (i.e. commands) which will always be ‘changed’ unless they are conditionally executed or a module is written to explain to Ansible how to check and see if something has changed.</p>

<h1 id="thats-it">That’s It</h1>

<p>That’s all you need to get this up and running and provisioning your own machine. I hope to be able to write a blog post about using it with Vagrant and what the differences are. For now, I’ll leave you with a few relevant links:</p>

<ul>
  <li><a href="https://github.com/JBKahn/provisioning-local">The Repository</a>.</li>
  <li><a href="http://docs.ansible.com/list_of_all_modules.html">Ansible Modules</a>.</li>
</ul>

        <nav class="pagination" role="navigation">
          
            <a href="http://blog.josephkahn.io/articles/pre-commit-hooks/" class="btn" title="Pre-commit Hooks: The Good, The Bad &amp; The Ugly">Previous</a>
          
          
            <a href="http://blog.josephkahn.io/articles/ansible-modules/" class="btn" title="For a Few Ansible Modules More">Next</a>
          
        </nav><!-- /.pagination -->
        <div id="disqus_thread"></div><!-- /#disqus_thread -->
      </div><!-- /.entry-content -->
    </div><!-- /.entry-wrapper -->
  </article>
</div><!-- /#main -->

<div class="footer-wrapper">
  <footer role="contentinfo">
    

<span>&copy; 2014 Joseph Kahn. Powered by <a href="http://jekyllrb.com">Jekyll</a> using the <a href="http://mademistakes.com/so-simple/">So Simple Theme</a>.</span>
<div class="social-icons">
	<a href="http://twitter.com/JosephBKahn" title="Joseph Kahn on Twitter" target="_blank"><i class="fa fa-twitter-square fa-2x"></i></a>
	<a href="http://facebook.com/josephkahn" title="Joseph Kahn on Facebook" target="_blank"><i class="fa fa-facebook-square fa-2x"></i></a>
	
	<a href="http://linkedin.com/in/jbkahn" title="Joseph Kahn on LinkedIn" target="_blank"><i class="fa fa-linkedin-square fa-2x"></i></a>
	
	
	
	<a href="http://github.com/JBKahn" title="Joseph Kahn on Github" target="_blank"><i class="fa fa-github-square fa-2x"></i></a>
	
  <a href="http://blog.josephkahn.io/feed.xml" title="Atom/RSS feed"><i class="fa fa-rss-square fa-2x"></i></a>
</div><!-- /.social-icons -->
  </footer>
</div><!-- /.footer-wrapper -->

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="http://blog.josephkahn.io/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="http://blog.josephkahn.io/assets/js/scripts.min.js"></script>

<!-- Jekyll Simple Search option -->
<script>
  $(document).ready(function() {
      $('.search-field').simpleJekyllSearch({
          jsonFile : 'http://blog.josephkahn.io/search.json',
          searchResults : '.search-results',
          template : '<li><article><a href="{url}">{title} <span class="entry-date"><time datetime="{date}">{shortdate}</time></span></a></article></li>',
          noResults: '<p>Nothing found.</p>'
        });
  });

  (function( $, window, undefined ) {
    
     var bs = {
          close: $(".close-btn"),
          searchform: $(".search-form"),
          canvas: $("body"),
          dothis: $('.dosearch')
      };
    
    bs.dothis.on('click', function() {
      $('.search-wrapper').css({ display: "block" });
      bs.searchform.toggleClass('active');
      bs.searchform.find('input').focus();
      bs.canvas.toggleClass('search-overlay');
    });
    
      bs.close.on('click', function() {
        $('.search-wrapper').removeAttr( 'style' );
        bs.searchform.toggleClass('active');
        bs.canvas.removeClass('search-overlay');
    });
  })( jQuery, window );
</script>




  
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'abyteoftheapplejbkahn'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

	        

</body>
</html>
